{"version":3,"sources":["mysqlPool.js"],"names":["OptPool","require","optPool","pool","getPool","getConnection","err","conn","query","rs","console","log","message","i","length","pwd","release"],"mappings":"AAAA,IAAIA,QAAUC,QAAQ,2BAElBC,QAAU,IAAIF,QACdG,KAAOD,QAAQE,UAGnBD,KAAKE,cAAc,SAASC,EAAIC,GAI5BA,EAAKC,MAFY,2CACL,CAAC,MAAM,UACS,SAASF,EAAIG,GAClCH,EACCI,QAAQC,IAAI,cAAcL,EAAIM,SAGlCF,QAAQC,IAAI,oBAIhBJ,EAAKC,MAAM,qBAAsB,SAASF,EAAKG,GAC3C,GAAIH,EACAI,QAAQC,IAAI,cAAcL,OAD9B,CAIA,IAAI,IAAIO,EAAE,EAAEA,EAAEJ,EAAGK,OAAOD,IACpBH,QAAQC,IAAIF,EAAGI,GAAGE,KAEtBR,EAAKS","file":"mysqlPool.js","sourcesContent":["var OptPool = require('./models/mysqlConfig.js'); \r\n \r\nvar optPool = new OptPool(); \r\nvar pool = optPool.getPool(); \r\n\r\n//执行SQL语句 \r\npool.getConnection(function(err,conn){\r\n    //----插入 \r\n    var userAddSql = 'insert into user (uname,pwd) values(?,?)'; \r\n    var param = ['eee','eee111'];\r\n    conn.query(userAddSql,param,function(err,rs){\r\n        if(err){ \r\n            console.log('insert err:',err.message); \r\n            return; \r\n        } \r\n        console.log('insert success'); \r\n        //conn.release(); //放回连接池\r\n    })\r\n    //查询 \r\n    conn.query('SELECT * from user', function(err, rs) { \r\n        if (err) { \r\n            console.log('[query] - :'+err); \r\n            return; \r\n        }   \r\n        for(var i=0;i<rs.length;i++){\r\n            console.log(rs[i].pwd); \r\n        }\r\n        conn.release(); //放回连接池\r\n    });\r\n}); "]}